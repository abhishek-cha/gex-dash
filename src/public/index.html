<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GEX Dash</title>
  <link rel="stylesheet" href="/css/styles.css" />
</head>
<body>

<div id="login-screen">
  <h1>GEX Dash</h1>
  <p>Connect your Schwab Developer account to view Gamma Exposure levels</p>
  <a href="/auth/login">Connect with Schwab</a>
</div>

<div id="app">
  <div id="header">
    <span class="symbol" id="hdr-symbol">--</span>
    <span class="price" id="hdr-price">--</span>
    <span class="change" id="hdr-change">--</span>
    <select id="freq-select">
      <option value="5m">5 min</option>
      <option value="15m">15 min</option>
      <option value="30m">30 min</option>
      <option value="1D" selected>Daily</option>
      <option value="1W">Weekly</option>
      <option value="1M">Monthly</option>
    </select>
    <select id="range-select">
      <option value="5D">5D</option>
      <option value="1M">1M</option>
      <option value="3M">3M</option>
      <option value="6M">6M</option>
      <option value="YTD">YTD</option>
      <option value="1Y" selected>1Y</option>
      <option value="2Y">2Y</option>
      <option value="5Y">5Y</option>
      <option value="10Y">10Y</option>
      <option value="20Y">20Y</option>
    </select>
    <button id="exp-filter-btn">Expirations</button>
    <div class="search-box">
      <input type="text" id="symbol-input" placeholder="Symbol (e.g. AAPL)" />
      <button id="load-btn">Load</button>
      <button id="watchlist-btn">Watchlist</button>
    </div>
  </div>

  <div id="exp-dialog-backdrop">
    <div id="exp-dialog">
      <div id="exp-dialog-header">
        <h3>Filter Expirations</h3>
        <div class="actions">
          <button id="exp-select-all">Select All</button>
          <button id="exp-select-none">Clear</button>
          <button id="exp-dialog-close">&times;</button>
        </div>
      </div>
      <div id="exp-dialog-list"></div>
      <div id="exp-dialog-footer">
        <button id="exp-dialog-apply">Apply</button>
      </div>
    </div>
  </div>
  <div id="wl-dialog-backdrop">
    <div id="wl-dialog">
      <div id="wl-dialog-header">
        <h3>Watchlist</h3>
        <button id="wl-dialog-close">&times;</button>
      </div>
      <div id="wl-dialog-add">
        <input type="text" id="wl-add-input" placeholder="Add symbolâ€¦" />
        <button id="wl-add-btn">+</button>
      </div>
      <div id="wl-dialog-list"></div>
    </div>
  </div>

  <div id="chart-wrap">
    <div id="loading-price" class="section-loading">Loading price...</div>
    <div id="loading-gex" class="section-loading">Loading GEX...</div>
    <div id="labels-overlay"></div>
    <div id="crosshair-h"></div>
    <div id="crosshair-v"></div>
    <div id="crosshair-price"></div>
    <div id="tooltip"></div>
  </div>
</div>

<script type="importmap">
{
  "imports": {
    "three": "https://cdn.jsdelivr.net/npm/three@0.172.0/build/three.module.js"
  }
}
</script>

<script type="module" src="/js/main.js"></script>

</body>
</html>
